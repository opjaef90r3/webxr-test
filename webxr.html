<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FPS Game with A-Frame</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.2/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.rawgit.com/n5ro/aframe-physics-system/v3.3.0/dist/aframe-physics-system.min.js"></script>
    <style>
      body { margin: 0; }
      canvas { display: block; }
      .hud {
        position: absolute;
        top: 20px;
        left: 20px;
        color: white;
        font-size: 24px;
        z-index: 999;
      }
    </style>
  </head>
  <body>
    <div class="hud">Score: <span id="score">0</span></div>
    <a-scene physics="gravity: -9.8">
      <a-entity id="rig" position="0 1.6 0" movement-controls>
        <a-entity camera look-controls wasd-controls></a-entity>
        <!-- Replace gun model with a simple box -->
        <a-entity
          geometry="primitive: box; width: 0.1; height: 0.1; depth: 0.5"
          material="color: black"
          position="0 -0.2 -0.5">
        </a-entity>
      </a-entity>

      <a-entity id="ground" geometry="primitive: plane; width: 20; height: 20" rotation="-90 0 0" material="color: #7BC8A4" static-body></a-entity>

      <a-entity id="box1" geometry="primitive: box" material="color: red" position="3 1.5 -3" dynamic-body></a-entity>
      <a-entity id="box2" geometry="primitive: box" material="color: red" position="-3 1.5 -3" dynamic-body></a-entity>
      <a-entity id="box3" geometry="primitive: box" material="color: red" position="0 1.5 -6" dynamic-body></a-entity>

      <a-sky color="#ECECEC"></a-sky>
    </a-scene>

    <script>
      let score = 0;

      function updateScore() {
        score += 1;
        document.getElementById('score').innerText = score;
      }

      document.querySelectorAll('[dynamic-body]').forEach(box => {
        box.addEventListener('click', () => {
          const newPosition = {
            x: (Math.random() - 0.5) * 6,
            y: 1.5,
            z: (Math.random() - 0.5) * 6
          };
          box.setAttribute('position', `${newPosition.x} ${newPosition.y} ${newPosition.z}`);
          updateScore();
        });
      });
    </script>
  </body>
</html>
